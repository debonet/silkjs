<!-- repeat element -->
<script type="defelt" scope="_" name="repeat" times="0">
	var vscope = [];
	var scopeRepeat = new Scope("repeatscope");

	return function(){
		var jq = $();
		var n;
		var c = _.get('times');
		var cAlloc = vscope.length;


		// delete exess
		vscope = vscope.slice(0,c);
		for (n=c; n<cAlloc; n++){
			scopeRepeat.del(n);
		}

		// make new ones
		for (n=vscope.length; n<c; n++){
			vscope[n] = _.fscopeClone();
			vscope[n].defvar("_index",n);
			scopeRepeat.defvar(n,_.get('_createInner')(vscope[n]));
		}

		// eval and add
		for (n=0; n<c; n++){
			jq = jq.add(scopeRepeat.get(n));
		}
		return jq;
	};
</script>



<repeat times="3">
	fuukkk {{_.get('_index')}}
</repeat>



<repeat times="3">
	{{_.get('_index')}}
	<repeat times="_.get('_index')+3">	{{_.get('_index')}}
	</repeat>
	<test a="_.get('_index')" />
</repeat>




